# Example: Deploying to an existing AWS EKS cluster
#
# This configuration uses "bring your own cluster" mode:
# - provider: aws          -> Uses AWS-specific settings (gp2 storage class, etc.)
# - kube_context: <arn>    -> Skips infrastructure provisioning, uses existing cluster
#
# The amazon_web_services section is NOT required when using an existing cluster.

project_name: my-nebari-aws
provider: aws
domain: nebari.example.com
kube_context: "arn:aws:eks:us-west-2:123456789012:cluster/my-existing-cluster"

certificate:
  type: selfsigned

# GitOps repository configuration (required for foundational services)
# ArgoCD uses this repository to deploy Envoy Gateway, cert-manager, Keycloak, etc.
git_repository:
  url: "git@github.com:my-org/my-gitops-repo.git"
  branch: main
  path: "clusters/my-nebari-aws"
  auth:
    ssh_key_env: GIT_SSH_PRIVATE_KEY  # Environment variable containing SSH private key
    # OR use token for HTTPS:
    # token_env: GIT_TOKEN
  # Optional: separate read-only credentials for ArgoCD (falls back to auth if not set)
  # argocd_auth:
  #   ssh_key_env: ARGOCD_SSH_KEY
